{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport { transactionsAPI } from '../utils/api';\nexport const useTransactions = () => {\n  _s();\n  const [transactions, setTransactions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const [page, setPage] = useState(1);\n  const loadTransactions = useCallback(async (filters = {}) => {\n    setLoading(true);\n    try {\n      const res = await transactionsAPI.getAll({\n        ...filters,\n        page,\n        limit: 20\n      });\n      setTransactions(prev => page === 1 ? res.data.transactions : [...prev, ...res.data.transactions]);\n      setHasMore(res.data.hasMore);\n    } catch (err) {\n      console.error(err);\n    }\n    setLoading(false);\n  }, [page]);\n  const refresh = () => {\n    setPage(1);\n    loadTransactions({});\n  };\n  return {\n    transactions,\n    loadTransactions,\n    refresh,\n    loading,\n    hasMore\n  };\n};\n_s(useTransactions, \"+SaxlDLONvR6y4k8zDB146wqimM=\");","map":{"version":3,"names":["useState","useEffect","useCallback","transactionsAPI","useTransactions","_s","transactions","setTransactions","loading","setLoading","hasMore","setHasMore","page","setPage","loadTransactions","filters","res","getAll","limit","prev","data","err","console","error","refresh"],"sources":["C:/expense-tracker/frontend/src/hooks/useTransactions.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport { transactionsAPI } from '../utils/api';\r\n\r\nexport const useTransactions = () => {\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [page, setPage] = useState(1);\r\n\r\n  const loadTransactions = useCallback(async (filters = {}) => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await transactionsAPI.getAll({ ...filters, page, limit: 20 });\r\n      setTransactions(prev => page === 1 ? res.data.transactions : [...prev, ...res.data.transactions]);\r\n      setHasMore(res.data.hasMore);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n    setLoading(false);\r\n  }, [page]);\r\n\r\n  const refresh = () => {\r\n    setPage(1);\r\n    loadTransactions({});\r\n  };\r\n\r\n  return { transactions, loadTransactions, refresh, loading, hasMore };\r\n};\r\n\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,SAASC,eAAe,QAAQ,cAAc;AAE9C,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC;EAEnC,MAAMc,gBAAgB,GAAGZ,WAAW,CAAC,OAAOa,OAAO,GAAG,CAAC,CAAC,KAAK;IAC3DN,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMO,GAAG,GAAG,MAAMb,eAAe,CAACc,MAAM,CAAC;QAAE,GAAGF,OAAO;QAAEH,IAAI;QAAEM,KAAK,EAAE;MAAG,CAAC,CAAC;MACzEX,eAAe,CAACY,IAAI,IAAIP,IAAI,KAAK,CAAC,GAAGI,GAAG,CAACI,IAAI,CAACd,YAAY,GAAG,CAAC,GAAGa,IAAI,EAAE,GAAGH,GAAG,CAACI,IAAI,CAACd,YAAY,CAAC,CAAC;MACjGK,UAAU,CAACK,GAAG,CAACI,IAAI,CAACV,OAAO,CAAC;IAC9B,CAAC,CAAC,OAAOW,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB;IACAZ,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC,EAAE,CAACG,IAAI,CAAC,CAAC;EAEV,MAAMY,OAAO,GAAGA,CAAA,KAAM;IACpBX,OAAO,CAAC,CAAC,CAAC;IACVC,gBAAgB,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC;EAED,OAAO;IAAER,YAAY;IAAEQ,gBAAgB;IAAEU,OAAO;IAAEhB,OAAO;IAAEE;EAAQ,CAAC;AACtE,CAAC;AAACL,EAAA,CAxBWD,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}